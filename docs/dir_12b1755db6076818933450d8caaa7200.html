<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AI Trends: frontend/node_modules/bidi-js Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AI Trends
   </div>
   <div id="projectbrief">Using Perplexity AI to gather and summarize trending AI topics in various industries.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('dir_12b1755db6076818933450d8caaa7200.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">bidi-js Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1619"></a>
bidi-js</h1>
<p>This is a pure JavaScript implementation of the <a href="https://www.unicode.org/reports/tr9/">Unicode Bidirectional Algorithm</a> version 13.0.0. Its goals, in no particular order, are to be:</p>
<ul>
<li>Correct</li>
<li>Small</li>
<li>Fast</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1620"></a>
Conformance</h1>
<p>This implementation currently conforms to section <a href="https://unicode.org/reports/tr9/#C1">UAX-C1</a> of the bidi spec, as verified by running all the provided <a href="https://unicode.org/reports/tr9/#Bidi_Conformance_Testing">conformance tests</a>.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1621"></a>
Compatibility</h1>
<p>It has no external dependencies and therefore should run just fine in any relatively capable web browser, Node.js, etc. The provided distribution <span class="tt">.js</span> files are valid ES5.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1622"></a>
Usage</h1>
<p>Install it from npm:</p>
<div class="fragment"><div class="line">npm install bidi-js</div>
</div><!-- fragment --><p><a href="https://npmjs.org/package/bidi-js"><img src="https://nodei.co/npm/bidi-js.png?compact=true" alt="NPM" class="inline"/></a></p>
<p>Import and initialize:</p>
<div class="fragment"><div class="line">import bidiFactory from &#39;bidi-js&#39;</div>
<div class="line">// or: const bidiFactory = require(&#39;bidi-js&#39;)</div>
<div class="line"> </div>
<div class="line">const bidi = bidiFactory()</div>
</div><!-- fragment --><p>The <span class="tt">bidi-js</span> package's only export is a factory function which you <em>must invoke</em> to return a <span class="tt">bidi</span> object; that object exposes the methods for bidi processing.</p>
<p>(<em>Why a factory function?</em> The main reason is to ensure the entire module's code is wrapped within a single self-contained function with no closure dependencies. This enables that function to be stringified and passed into a web worker, for example.)</p>
<p>Now that you have the <span class="tt">bidi</span> object, you can:</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1623"></a>
Calculate bidi embedding levels</h2>
<div class="fragment"><div class="line">const embeddingLevels = bidi.getEmbeddingLevels(</div>
<div class="line">  text, //the input string containing mixed-direction text</div>
<div class="line">  explicitDirection //&quot;ltr&quot; or &quot;rtl&quot; if you don&#39;t want to auto-detect it</div>
<div class="line">)</div>
<div class="line"> </div>
<div class="line">const { levels, paragraphs } = embeddingLevels</div>
</div><!-- fragment --><p>The result object <span class="tt">embeddingLevels</span> will usually be passed to other functions described below. Its contents, should you need to inspect them individually, are:</p>
<ul>
<li><span class="tt">levels</span> is a <span class="tt">Uint8Array</span> holding the calculated <a href="https://unicode.org/reports/tr9/#BD2">bidi embedding levels</a> for each character in the string. The most important thing to know about these levels is that any given character is in a right-to-left scope if its embedding level is an odd number, and left-to-right if it's an even number.</li>
<li><span class="tt">paragraphs</span> is an array of <span class="tt">{start, end, level}</span> objects, one for each paragraph in the text (paragraphs are separated by explicit breaking characters, not soft line wrapping). The <span class="tt">start</span> and <span class="tt">end</span> indices are inclusive, and <span class="tt">level</span> is the resolved base embedding level of that paragraph.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1624"></a>
Calculate character reorderings</h2>
<div class="fragment"><div class="line">const flips = bidi.getReorderSegments(</div>
<div class="line">  text, //the full input string</div>
<div class="line">  embeddingLevels //the full result object from getEmbeddingLevels</div>
<div class="line">)</div>
<div class="line"> </div>
<div class="line">// Process all reversal sequences, in order:</div>
<div class="line">flips.forEach(range =&gt; {</div>
<div class="line">  const [start, end] = range</div>
<div class="line">  // Reverse this sequence of characters from start to end, inclusive</div>
<div class="line">  for (let i = start; i &lt;= end; i++) {</div>
<div class="line">    //...</div>
<div class="line">  }</div>
<div class="line">})</div>
</div><!-- fragment --><p>Each "flip" is a range that should be reversed in place; they must all be applied in order.</p>
<p>Sometimes you don't want to process the whole string at once, but just a particular substring. A common example would be if you've applied line wrapping, in which case you need to process each line individually (in particular this does some special handling for trailing whitespace for each line). For this you can pass the extra <span class="tt">start</span> and <span class="tt">end</span> parameters:</p>
<div class="fragment"><div class="line">yourWrappedLines.forEach(([lineStart, lineEnd]) =&gt; {</div>
<div class="line">  const flips = bidi.getReorderSegments(</div>
<div class="line">    text,</div>
<div class="line">    embeddingLevels,</div>
<div class="line">    lineStart,</div>
<div class="line">    lineEnd //inclusive</div>
<div class="line">  )</div>
<div class="line">  // ...process flips for this line</div>
<div class="line">})</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md1625"></a>
Handle right-to-left mirrored characters</h2>
<p>Some characters that resolve to right-to-left need to be swapped with their "mirrored" characters. Examples of this are opening/closing parentheses. You can determine all the characters that need to be mirrored like so:</p>
<div class="fragment"><div class="line">const mirrored = bidi.getMirroredCharactersMap(</div>
<div class="line">  text,</div>
<div class="line">  embeddingLevels</div>
<div class="line">)</div>
</div><!-- fragment --><p>This returns a <span class="tt">Map</span> of numeric character indices to replacement characters.</p>
<p>You can also process just a substring with extra <span class="tt">start</span> and <span class="tt">end</span> parameters:</p>
<div class="fragment"><div class="line">const mirrored = bidi.getMirroredCharactersMap(</div>
<div class="line">  text,</div>
<div class="line">  embeddingLevels,</div>
<div class="line">  start,</div>
<div class="line">  end //inclusive</div>
<div class="line">)</div>
</div><!-- fragment --><p>If you'd rather process mirrored characters individually, you can use the single <span class="tt">getMirroredCharacter</span> function, just make sure you only do it for right-to-left characters (those whose embedding level is an odd number.) It will return <span class="tt">null</span> if the character doesn't support mirroring.</p>
<div class="fragment"><div class="line">const mirroredChar = (embeddingLevels.levels[charIndex] &amp; 1) //odd number means RTL</div>
<div class="line">    ? bidi.getMirroredCharacter(text[charIndex])</div>
<div class="line">    : null</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md1626"></a>
Get a character's bidi type</h2>
<p>This is used internally, but you can also ask for the <a href="https://unicode.org/reports/tr9/#BD1">"bidi character type"</a> of any character, should you need it:</p>
<div class="fragment"><div class="line">const bidiType = bidi.getBidiCharTypeName(string[charIndex])</div>
<div class="line">// e.g. &quot;L&quot;, &quot;R&quot;, &quot;AL&quot;, &quot;NSM&quot;, ...</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_ca0386ec887ae6362f93b0d653b52e0c.html">frontend</a></li><li class="navelem"><b>node_modules</b></li><li class="navelem"><a href="dir_12b1755db6076818933450d8caaa7200.html">bidi-js</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
