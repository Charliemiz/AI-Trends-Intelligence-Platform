<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AI-Trends-Intelligence-Platform: backend.services.session_service Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AI-Trends-Intelligence-Platform<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">A platform for analyzing AI industry trends and sector rotation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('namespacebackend_1_1services_1_1session__service.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">backend.services.session_service Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6228534ed782ab22e0b7dca671dff1d7" id="r_a6228534ed782ab22e0b7dca671dff1d7"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6228534ed782ab22e0b7dca671dff1d7">create_session_with_context</a> (int article_id, str article_title, str article_content, list sources, list|None tags=None, int|None impact_score=None)</td></tr>
<tr class="memitem:ac4ab123d734289feeec6c52393f45f93" id="r_ac4ab123d734289feeec6c52393f45f93"><td class="memItemLeft" align="right" valign="top">Optional[dict]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac4ab123d734289feeec6c52393f45f93">get_session</a> (str session_id)</td></tr>
<tr class="memitem:a5e73a410afc5dc8bb87590a5a3f550f0" id="r_a5e73a410afc5dc8bb87590a5a3f550f0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e73a410afc5dc8bb87590a5a3f550f0">add_message_to_session</a> (str session_id, str role, str content)</td></tr>
<tr class="memitem:a9fd993c22e779208e7e39273772ee5ce" id="r_a9fd993c22e779208e7e39273772ee5ce"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9fd993c22e779208e7e39273772ee5ce">get_session_messages</a> (str session_id)</td></tr>
<tr class="memitem:a3f56ad1766f813ee239eb0e74df8a95b" id="r_a3f56ad1766f813ee239eb0e74df8a95b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f56ad1766f813ee239eb0e74df8a95b">end_session</a> (str session_id)</td></tr>
<tr class="memitem:a6f9ba3b8f177bea03611a98d50022a11" id="r_a6f9ba3b8f177bea03611a98d50022a11"><td class="memItemLeft" align="right" valign="top">Optional[int]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f9ba3b8f177bea03611a98d50022a11">get_session_article_id</a> (str session_id)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6542e21e4c5d60fc73efe73ecf497230" id="r_a6542e21e4c5d60fc73efe73ecf497230"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6542e21e4c5d60fc73efe73ecf497230">SESSIONS</a> = {}</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Session management for chat interactions tied to articles.

This module provides in-memory session storage for article-based chat
conversations. Each session maintains article context (title, content,
sources, tags, impact score) and conversation history. Sessions are
identified by UUID and persist until explicitly closed.

Functions
---------
create_session_with_context
    Create a new chat session with article context and initial greeting.
get_session
    Retrieve session data by session ID.
add_message_to_session
    Append a message to a session's conversation history.
get_session_messages
    Get all messages in a session's conversation history.
end_session
    Terminate and clean up a session.
get_session_article_id
    Get the article ID associated with a session.
</pre> </div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a5e73a410afc5dc8bb87590a5a3f550f0" name="a5e73a410afc5dc8bb87590a5a3f550f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e73a410afc5dc8bb87590a5a3f550f0">&#9670;&#160;</a></span>add_message_to_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool backend.services.session_service.add_message_to_session </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>session_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>role</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>content</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Add a message to a session's chat history.

:param session_id: UUID of the session to add the message to.
:param role: Message role, typically 'user' or 'assistant'.
:param content: Message content/text.
:returns: True if message was added, False if session not found.
</pre> 
<p class="definition">Definition at line <a class="el" href="session__service_8py_source.html#l00082">82</a> of file <a class="el" href="session__service_8py_source.html">session_service.py</a>.</p>

</div>
</div>
<a id="a6228534ed782ab22e0b7dca671dff1d7" name="a6228534ed782ab22e0b7dca671dff1d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6228534ed782ab22e0b7dca671dff1d7">&#9670;&#160;</a></span>create_session_with_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str backend.services.session_service.create_session_with_context </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>article_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>article_title</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>article_content</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list</td>          <td class="paramname"><span class="paramname"><em>sources</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list | None </td>          <td class="paramname"><span class="paramname"><em>tags</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int | None </td>          <td class="paramname"><span class="paramname"><em>impact_score</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create a new chat session tied to an article with conversational context.

Creates a session with an initial greeting message and stores all article
metadata (title, content, sources, tags, impact score) for use in AI
conversation context. The greeting is added to the message history so
it's included in conversation context sent to the AI model.

:param article_id: ID of the article this session is bound to.
:type article_id: int
:param article_title: Title of the article.
:type article_title: str
:param article_content: Full content of the article.
:type article_content: str
:param sources: List of source dicts associated with the article.
:type sources: list
:param tags: List of tag dicts (with id and name) associated with the article.
:type tags: list or None
:param impact_score: Impact score or severity ranking for the article.
:type impact_score: int or None
:returns: UUID string identifier for the new session.
:rtype: str
</pre> 
<p class="definition">Definition at line <a class="el" href="session__service_8py_source.html#l00032">32</a> of file <a class="el" href="session__service_8py_source.html">session_service.py</a>.</p>

</div>
</div>
<a id="a3f56ad1766f813ee239eb0e74df8a95b" name="a3f56ad1766f813ee239eb0e74df8a95b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f56ad1766f813ee239eb0e74df8a95b">&#9670;&#160;</a></span>end_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool backend.services.session_service.end_session </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>session_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Terminate a session and clean up.

:param session_id: UUID of the session to terminate.
:returns: True if session was closed, False if session not found.
</pre> 
<p class="definition">Definition at line <a class="el" href="session__service_8py_source.html#l00108">108</a> of file <a class="el" href="session__service_8py_source.html">session_service.py</a>.</p>

</div>
</div>
<a id="ac4ab123d734289feeec6c52393f45f93" name="ac4ab123d734289feeec6c52393f45f93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4ab123d734289feeec6c52393f45f93">&#9670;&#160;</a></span>get_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Optional[dict] backend.services.session_service.get_session </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>session_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get session data by ID.

:param session_id: UUID of the session to retrieve.
:returns: Session dict with context and messages, or ``None`` if not found.
</pre> 
<p class="definition">Definition at line <a class="el" href="session__service_8py_source.html#l00074">74</a> of file <a class="el" href="session__service_8py_source.html">session_service.py</a>.</p>

</div>
</div>
<a id="a6f9ba3b8f177bea03611a98d50022a11" name="a6f9ba3b8f177bea03611a98d50022a11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f9ba3b8f177bea03611a98d50022a11">&#9670;&#160;</a></span>get_session_article_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Optional[int] backend.services.session_service.get_session_article_id </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>session_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the article ID associated with a session.

:param session_id: UUID of the session.
:returns: The article ID bound to the session, or ``None`` if session not found.
</pre> 
<p class="definition">Definition at line <a class="el" href="session__service_8py_source.html#l00119">119</a> of file <a class="el" href="session__service_8py_source.html">session_service.py</a>.</p>

</div>
</div>
<a id="a9fd993c22e779208e7e39273772ee5ce" name="a9fd993c22e779208e7e39273772ee5ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fd993c22e779208e7e39273772ee5ce">&#9670;&#160;</a></span>get_session_messages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list backend.services.session_service.get_session_messages </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>session_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get all messages in a session.

:param session_id: UUID of the session.
:returns: List of message dicts with 'role' and 'content' keys, or empty list if session not found.
</pre> 
<p class="definition">Definition at line <a class="el" href="session__service_8py_source.html#l00099">99</a> of file <a class="el" href="session__service_8py_source.html">session_service.py</a>.</p>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="a6542e21e4c5d60fc73efe73ecf497230" name="a6542e21e4c5d60fc73efe73ecf497230"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6542e21e4c5d60fc73efe73ecf497230">&#9670;&#160;</a></span>SESSIONS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict backend.services.session_service.SESSIONS = {}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="session__service_8py_source.html#l00030">30</a> of file <a class="el" href="session__service_8py_source.html">session_service.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="namespacebackend.html">backend</a></li><li class="navelem"><a href="namespacebackend_1_1services.html">services</a></li><li class="navelem"><a href="namespacebackend_1_1services_1_1session__service.html">session_service</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
